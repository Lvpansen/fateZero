<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="../../css/reset.css">
	<link rel="stylesheet" href="../../css/maintain.css">
</head>
<body>
	<div class="container">
		<div class="header">
			<h1></h1>
			<div class="time">
				2018-01-20 17:03
			</div>
		</div>
		<div class="main clear">
			<iframe class="map" src="map.html" frameborder="0"></iframe>
			<div class="mainContent mainContentLeft">
				<h2>电站状态中心</h2>
				<ul class="dataList">
					<li class="listTitle">
						<ul class="clear">
							<li>电站名称</li>
							<li>容量</li>
							<li>单kW功率</li>
							<li>电量</li>
							<li>状态</li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="red"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="green"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="green"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="green"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="gray"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="green"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="green"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="green"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="green"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>15kw</li>
							<li>5.6kw</li>
							<li>58kw</li>
							<li><i class="green"></i></li>
							<li><span>》</span></li>
						</ul>
					</li>
				</ul>
				<div class="pagenation">
					<ul class="pages clear">
						<li class="indexPage">首页</li>
						<li class="prevPage">上一页</li>
						<li class="active">1</li>
						<li>2</li>
						<li>3</li>
						<li>4</li>
						<li class="more">···</li>
						<li>10</li>
						<li class="nextPage">下一页</li>
						<li class="lastPage">末页</li>
					</ul>
				</div>
				<div class="chart" id="chart1">
					
				</div>
			</div>
			<div class="mainContent mainContentCenter">
				<ul>
					<li>
						<div class="mainEleData">
							<span>当前功率</span>
							<p><span class="dataNum">4.32</span>Mw</p>
						</div>
					</li>
					<li>
						<div class="mainEleData">
							<span>今日发电量</span>
							<p><span class="dataNum">4685.2</span>Kwh</p>
						</div>
					</li>
					<li>
						<div class="mainEleData">
							<span>当值人员</span>
							<p><span class="dataNum">12</span>人</p>
						</div>
					</li>
				</ul>
				<!-- <div class="searchContainer">
					<select>
						<option value="">上海市</option>
						<option value="">江苏省</option>
						<option value="">浙江省</option>
					</select>
					<select>
						<option value="">南京</option>
						<option value="">苏州</option>
						<option value="">无锡</option>
					</select>
					<input type="text" placeholder="请输入电站名称或运维人员姓名">
				</div> -->
			</div>
			<div class="mainContent mainContentRight">
				<h2>电站报警中心</h2>
				<ul class="dataList">
					<li class="listTitle">
						<ul class="clear">
							<li>电站名称</li>
							<li>报警名称</li>
							<li>状态</li>
							<li>级别</li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li class="red">未处理</li>
							<li class="red">严重</li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li class="red">未处理</li>
							<li class="orange">重要</li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li class="green">处理中</li>
							<li class="orange">重要</li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li>已处理</li>
							<li class="orange">重要</li>
							<li><span>》</span></li>
						</ul>
					</li><li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li class="red">未处理</li>
							<li class="red">严重</li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li class="red">未处理</li>
							<li class="orange">重要</li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li class="green">处理中</li>
							<li class="orange">重要</li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li>已处理</li>
							<li class="orange">重要</li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li class="green">处理中</li>
							<li class="orange">重要</li>
							<li><span>》</span></li>
						</ul>
					</li>
					<li class="dataItem">
						<ul class="clear">
							<li>盐城大丰草场</li>
							<li>设备通信中断</li>
							<li>已处理</li>
							<li class="orange">重要</li>
							<li><span>》</span></li>
						</ul>
					</li>
				</ul>
				<div class="pagenation">
					<ul class="pages clear">
						<li class="indexPage">首页</li>
						<li class="prevPage">上一页</li>
						<li class="active">1</li>
						<li>2</li>
						<li>3</li>
						<li>4</li>
						<li class="more">···</li>
						<li>10</li>
						<li class="nextPage">下一页</li>
						<li class="lastPage">末页</li>
					</ul>
				</div>
				<div class="chart" id="chart2">
					
				</div>
			</div>
		</div>
		<ul class="mainContentBottom clear">
			<li class="currentState active">实时状态</li>
			<li class="alertMan">报警管理</li>
			<li class="taskMan">任务管理</li>
		</ul>
		<div class="dialog">
			<div class="dialogContent">
				<span class="close">×</span>
				<div class="dia-head clear">
					<div class="btnList">
						<span>历史报警</span>
						<span>发电报表</span>
					</div>
				</div>
				<ul class="dia-nav">
					<li>
						<div>
							<div>
								<span>今日发电量</span>
								<p><span>234</span>kw·h</p>
							</div>
						</div>
					</li>
					<li>
						<div>
							<div>
								<span>累计发电量</span>
								<p><span>234</span>kw·h</p>
							</div>
						</div>
					</li>
					<li>
						<div>
							<div>
								<span>今日发电收益</span>
								<p>￥<span>234</span>元</p>
							</div>
						</div>
					</li>
					<li>
						<div>
							<div>
								<span>累计发电收益</span>
								<p>￥<span>234</span>元</p>
							</div>
						</div>
					</li>
				</ul>
				<div class="dia-main">
					<select class="dia-area">
						<option value="1">发电功率</option>
						<option value="2">发电量</option>
					</select>
					<div id="chart3"></div>
					<div id="chart4"></div>
					<div class="chartName">
						<div class="timeSelect">
							2018-03-28
						</div>
						<span>当日电量18.00kwh</span>
					</div>
				</div>
				<ul class="dia-detail-list">
					<li>
						<h3>盐城-大丰-程广福</h3>
						<div>
							<img style="width:100%;" src="../../img/icon/maintain-icon/main-station1.jpg" alt="">
						</div>
					</li>
					<li>
						<h3>天气情况</h3>
						<div class="weather">
							<div class="weatherPic">
								<i></i>
								<p>12-20℃</p>
							</div>
							<div class="weatherDetail">
								<span class="temp">18℃</span>
								<p>盐城--晴天</p>
								<p>西南风三级</p>
								<p>湿度34cc</p>
							</div>
						</div>
					</li>
					<li>
						<h3>节能减排</h3>
						<ul class="saveItems">
							<li>
								<div class="saveItemName">
									减少二氧化碳
								</div>
								<div>6.94吨</div>
							</li>
							<li>
								<div class="saveItemName">
									累计减伐树木
								</div>
								<div>14.6吨</div>
							</li>
							<li>
								<div class="saveItemName">
									减少二氧化硫
								</div>
								<div>8.64吨</div>
							</li>
							<li>
								<div class="saveItemName">
									累计减少标准煤
								</div>
								<div>22.5吨</div>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<script src="../../js/echarts.min.js"></script>
	<script src="../../js/jquery-1.8.2.min.js"></script>
	<script>
		$(function(){
			$('.dataList .dataItem').click(function(){
				$('.dialog').toggleClass('dia-show')
			})
			$('.dialog .close').click(function(){
				$('.dialog').removeClass('dia-show')
			})
			$('.currentState').click(function(){
				$('.mainContentBottom li').removeClass('active');
				$(this).addClass('active');
				$('.mainContentLeft').removeClass('hide');
				$('.mainContentRight').removeClass('hide');
			})
			$('.alertMan').click(function(){
				$('.mainContentBottom li').removeClass('active');
				$(this).addClass('active');
				$('.mainContentLeft').addClass('hide');
				$('.mainContentRight').addClass('hide');
			})
			$('.taskMan').click(function(){
				$('.mainContentBottom li').removeClass('active');
				$(this).addClass('active');
				$('.mainContentLeft').addClass('hide');
				$('.mainContentRight').addClass('hide');
			})
			$('.dia-area').change(function(){
				var val = $(this).val();
				if (val === '1') {
					$('#chart3').css('display','block')
					$('#chart4').css('display','none')
					$('.chartName span').html('当日电量18kwh')
				} else {
					$('#chart4').css('display','block')
					$('#chart3').css('display','none')
					var initChart = echarts.init(document.getElementById('chart4'));
					initChart.setOption(option4);
					$('.chartName span').html('当月电量541kwh')
				}
			})
		})




		var t = null;
	    time();

	    function time(){
	       	clearTimeout(t);//清除定时器
	       	var dt = new Date();
	       	var year = dt.getFullYear();
	       	var mon = dt.getMonth();
			var month = mon< 9 ? "0" + (mon + 1) : mon + 1;
			var d = dt.getDate();
			var date = d < 10 ? "0" + d : d;
			var h = dt.getHours();
			var hour = h < 10 ? "0" + h : h;
			var min = dt.getMinutes();
			var minute = min < 10 ? "0" + min : min;
			var sec = dt.getSeconds();
			var second = sec < 10 ? "0" + sec : sec;
	       $('.time').html(year + '-' + month + '-' + date +' '+ hour + ':' + minute +':'+second)
	       t = setTimeout(time,1000); //设定定时器，循环执行             
	    } 
	</script>
	<script>
		var myChart1 = echarts.init(document.getElementById('chart1'));
		var myChart2 = echarts.init(document.getElementById('chart2'));
		var myChart3 = echarts.init(document.getElementById('chart3'));
		// var myChart4 = echarts.init(document.getElementById('chart4'));
		var option1 = {
		   // tooltip : {
		   //     trigger: 'item',
		   //     formatter: "{a} <br/>{b} : {c} ({d}%)"
		   // },
		    color:['#8fc31f','#f35833','#00ccff'],
		    legend: {
		        orient: 'center',
		        x: '68%',
		        y:'center',
		        data: ['正常电站','异常电站','断连电站'],
		        formatter:function(name){
		        	var oa = option1.series[0].data;
		        	var num = oa[0].value + oa[1].value + oa[2].value;
		        	for(var i = 0; i < option1.series[0].data.length; i++){
	                    if(name==oa[i].name){
	                    	return name + ' : ' + oa[i].value ;
	                    }
		        	}
		        }
		    },
		    title : {
	        	text: '2047个',
		        subtext: '电站总数',
		        x: '33%',
		        y:'40%',
		        textStyle: {
		            fontWeight: 'normal',
		            color: '#333333',
		            fontSize: 20
		        },
		        subTextStyle:{
		        	fontSize:16,
		        	color:'#333333'
		        }
	    	},
		    series : [
		        {
		            name: '签到比例分析',
		            type: 'pie',
		            hoverAnimation:false,
		            radius : [70,85],
		            center: ['40%', '50%'],
		            data:[
		                {name:'正常电站', value:1180},
		                {name:'异常电站', value:525},
		                {name:'断连电站', value:328},
		            ],
		            label:{
		            	normal:{
		            		show:false
		            	}
		            },
		            labelLine:{
		                normal:{
		                show:false,    
		                }
		                
		            },
		            itemStyle: {
		                emphasis: {
		                    shadowBlur: 10,
		                    shadowOffsetX: 0,
		                    shadowColor: 'rgba(0, 0, 0, 0.5)'
		                }
		            },
		            itemStyle: {
		                normal: {
		                    label:{ 
	                            show: true, 
	//	                            position:'inside',
	                            formatter: '{b} : {c} ({d}%)' 
	                        }
		                },
	                    labelLine :{show:true}
		            }
		        }
		    ]
		};
		var option2 = {
		   // tooltip : {
		   //     trigger: 'item',
		   //     formatter: "{a} <br/>{b} : {c} ({d}%)"
		   // },
		    color:['#8fc31f','#f35833','#00ccff','#00cc55'],
		    legend: {
		        orient: 'center',
		        x: '68%',
		        y:'center',
		        data: ['严重警告','重要警告','次要警告','一般警告'],
		        formatter:function(name){
		        	var oa = option2.series[0].data;
		        	var num = oa[0].value + oa[1].value + oa[2].value+ oa[3].value;
		        	for(var i = 0; i < option2.series[0].data.length; i++){
	                    if(name==oa[i].name){
	                    	return name + ' : ' + oa[i].value ;
	                    }
		        	}
		        }
		    },
		    series : [
		        {
		            name: '签到比例分析',
		            type: 'pie',
		            hoverAnimation:false,
		            radius : [20,100],
		            center: ['40%', '50%'],
            		roseType : 'radius',
		            data:[
		                {name:'严重警告', value:180},
		                {name:'重要警告', value:225},
		                {name:'次要警告', value:328},
		                {name:'一般警告', value:428},
		            ],
		            label:{
		            	normal:{
		            		position:'inner',
		            		formatter:'{d}%'
		            	}
		            },
		            labelLine:{
		                normal:{
		                	show:false,    
		                }
		                
		            },
		            itemStyle: {
		                emphasis: {
		                    shadowBlur: 10,
		                    shadowOffsetX: 0,
		                    shadowColor: 'rgba(0, 0, 0, 0.5)'
		                }
		            },
		            itemStyle: {
		                normal: {
		                    label:{ 
	                            show: true, 
	//	                            position:'inside',
	                            formatter: '{b} : {c} ({d}%)' 
	                        }
		                },
	                    labelLine :{show:true}
		            }
		        }
		    ]
		};

		var option3 = {
		    backgroundColor: '#ffffff',
		    toolbox: {
		        show: true,
		        feature: {
		            restore: {
		                show: true
		            },
		            saveAsImage: {
		                show: true,
		                title:'保存'
		            }
		        }
		    },
		    tooltip: {
		        trigger: 'axis',
		        axisPointer: {
		            lineStyle: {
		                color: '#15f0f8'
		            }
		        }
		    },
		    grid: {
		        left: '3%',
		        right: '4%',
		        bottom: '3%',
		        containLabel: true
		    },
		    xAxis: [{
		        type: 'category',
		        boundaryGap: false,
		        axisLine: {
		            lineStyle: {
		                color: '#57617B'
		            }
		        },
		        splitLine: {
		            show:true,
		            lineStyle: {
		                color: '#57617B',
		                type: 'dashed'
		            }
		        },
		        data: ['06:55', '07:55', '08:55', '09:55', '10:55', '11:55', '12:55', '13:55', '14:55', '15:55', '16:55']
		    }, {
		        axisPointer: {
		            show: false
		        },
		        axisLine: {
		            lineStyle: {
		                color: '#57617B'
		            }
		        },
		        axisTick: {
		            show: false
		        },

		        position: 'bottom',
		        offset: 20,
		        data: ['', '', '', '', '', '', '', '', '', '']
		    }],
		    yAxis: [{
		        type: 'value',
		        name: '功率（W）',
		        axisTick: {
		            show: false
		        },
		        axisLine: {
		            lineStyle: {
		                color: '#57617B',
		            }
		        },
		        axisLabel: {
		            margin: 10,
		            textStyle: {
		                fontSize: 14
		            }
		        },
		        splitLine: {
		            lineStyle: {
		                color: '#57617B',
		                type: 'dashed'
		            }
		        }
		    }],
		    series: [{
		        name: '功率',
		        type: 'line',
		        smooth: true,
		        symbol: 'circle',
		        symbolSize: 5,
		        showSymbol: false,
		        lineStyle: {
		            normal: {
		                width: 1
		            }
		        },
		        areaStyle: {
		            normal: {
		                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
		                    offset: 0,
		                    color: 'rgba(57, 83, 121, 1)'
		                }, {
		                    offset: 0.8,
		                    color: 'rgba(57, 83, 121, 1)'
		                }], false),
		                shadowColor: 'rgba(57, 83, 121, 1)',
		                shadowBlur: 10
		            }
		        },
		        itemStyle: {
		            normal: {
		                color: 'rgb(57, 83, 121)',
		                borderColor: 'rgba(0,136,212,0.2)',
		                borderWidth: 12

		            }
		        },
		        data: [1200, 3100, 2125, 1845, 2122, 3165, 2122, 3220, 1582, 1910, 3134]
		    }]
		};

		var option4 = {
		    toolbox: {
		        show: true,
		        feature: {
		            restore: {
		                show: true
		            },
		            saveAsImage: {
		                show: true,
		                title:'保存'
		            }
		        }
		    },
			grid:{
				left:'3%',
				bottom:'30',
				containLabel:true
			},
		    xAxis: {
		        type: 'category',
		        name:'日',
		        data: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],
		        axisLabel:{
		        	color:'#666'
		        },
		        axisLine:{
		        	lineStyle:{
		        		color:'#666'
		        	}
		        }
		    },
		    yAxis: {
		        type: 'value',
		        name:'(KW)',
		        axisLabel:{
		        	color:'#666',
		        },
		        axisLine:{
		        	lineStyle:{
		        		color:'#666'
		        	}
		        }
		    },
		    series: [{
		        data: [12, 2, 15, 8, 7, 51, 13,23,1,35,32,4,12, 2, 15, 8, 7, 51, 13,23,1,35,32,4,25,55,6,46,2,1],
		        type: 'bar',
		        itemStyle:{
		            color:'#c33430',
		            normal:{
			            label: {
			                show: true,
			                textStyle: {
			                    fontWeight: 'bolder',
			                    fontSize: '12',
			                    fontFamily: '微软雅黑'
			                },
			                position: 'top'
			            },
		            }
		        }
		    }]
		};

		myChart1.setOption(option1)
		myChart2.setOption(option2)
		myChart3.setOption(option3)
		// myChart4.setOption(option4)
	</script>
</body>
</html>